<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/l10n/ru.js" defer></script>
    <script src="./scripts/main.js" type="module" defer></script>
    <title>ToDo</title>
</head>
<body>
    <header class="header header_theme_soft container">
        <div class="header__brand">
            <div class="header__title">ToDo</div>
            <img class="header__icon icon" src="./icons/calendar-event.svg" alt="ToDo icon">
        </div>
        <nav class="language-switcher" aria-label="Language switcher">
            <button class="language-switcher__button" type="button" data-locale="ru" aria-pressed="false">Рус</button>
            <button class="language-switcher__button" type="button" data-locale="en" aria-pressed="false">Eng</button>
        </nav>
    </header>

    <main class="main container">
        <section class="tasks" aria-label="Управление задачами">
            <h2 class="section-title">Задачи</h2>
            <div class="tasks__card">
                <button class="tasks__add-button" id="open-task-form" type="button" aria-expanded="false" aria-controls="task-form-wrap">
                    <span class="tasks__add-button-text">Добавить новую задачу</span>
                    <img class="tasks__add-button-icon icon" src="./icons/add-plus-circle.svg" alt="" aria-hidden="true">
                </button>

                <div class="tasks__form-wrap" id="task-form-wrap" hidden>
                    <section class="task-form">
                        <form class="task-form__body" id="task-form">
                            <label class="task-form__field">
                                <span class="task-form__field-label sr-only">Название</span>
                                <input class="task-form__text-input" id="task-title" name="title" type="text" aria-label="Название" required>
                                <img class="task-form__field-icon icon" src="./icons/edit-pencil.svg" alt="" aria-hidden="true">
                            </label>

                            <label class="task-form__field task-form__field_type_description">
                                <span class="task-form__field-label">Описание</span>
                                <textarea class="task-form__textarea" id="task-description" name="description" rows="3" aria-label="Описание"></textarea>
                                <img class="task-form__field-icon icon" src="./icons/edit-pencil.svg" alt="" aria-hidden="true">
                            </label>

                            <div class="task-form__priority-group">
                                <div class="task-form__field task-form__field_type_priority">
                                    <span class="task-form__field-label">Приоритет</span>
                                    <button
                                        class="task-form__picker"
                                        type="button"
                                        id="priority-picker-trigger"
                                        aria-controls="task-priority-inline-wrap"
                                        aria-expanded="false"
                                    >
                                        <span id="selected-priority">Средний</span>
                                    </button>
                                    <img class="task-form__field-icon icon" src="./icons/chevron-left-right.svg" alt="" aria-hidden="true">
                                    <input class="task-form__native-picker" id="task-priority" name="priority" type="hidden" value="medium">
                                </div>
                                <div class="task-form__priority-inline" id="task-priority-inline-wrap" hidden>
                                    <div class="task-form__priority-list" id="task-priority-list"></div>
                                </div>
                            </div>

                            <div class="task-form__date-group">
                                <div class="task-form__field">
                                    <span class="task-form__field-label">Дата</span>
                                    <button
                                        class="task-form__picker"
                                        type="button"
                                        id="date-picker-trigger"
                                        aria-controls="task-date-inline-wrap"
                                        aria-expanded="false"
                                    >
                                        <span id="selected-date">Не выбрано</span>
                                    </button>
                                    <img class="task-form__field-icon icon" src="./icons/calendar-days.svg" alt="" aria-hidden="true">
                                </div>
                                <div class="task-form__inline" id="task-date-inline-wrap" hidden>
                                    <input class="task-form__native-picker" id="task-date" name="date" type="text" autocomplete="off">
                                    <div class="task-form__calendar-host" id="task-date-inline"></div>
                                    <button class="task-form__date-confirm" id="confirm-task-date" type="button">
                                        Выбрать дату
                                    </button>
                                </div>
                            </div>

                            <div class="task-form__time-group">
                                <div class="task-form__field">
                                    <span class="task-form__field-label">Время</span>
                                    <button
                                        class="task-form__picker"
                                        type="button"
                                        id="time-picker-trigger"
                                        aria-controls="task-time-inline-wrap"
                                        aria-expanded="false"
                                    >
                                        <span id="selected-time">Не выбрано</span>
                                    </button>
                                    <img class="task-form__field-icon icon" src="./icons/clock.svg" alt="" aria-hidden="true">
                                    <input class="task-form__native-picker" id="task-time" name="time" type="time">
                                </div>
                                <div class="task-form__time-inline" id="task-time-inline-wrap" hidden>
                                    <div class="task-form__time-columns">
                                        <div class="task-form__time-column">
                                            <div class="task-form__time-column-title">Часы</div>
                                            <div class="task-form__time-list" id="task-hour-list"></div>
                                        </div>
                                        <div class="task-form__time-column">
                                            <div class="task-form__time-column-title">Минуты</div>
                                            <div class="task-form__time-list" id="task-minute-list"></div>
                                        </div>
                                    </div>
                                    <button class="task-form__time-confirm" id="confirm-task-time" type="button">
                                        Выбрать время
                                    </button>
                                </div>
                            </div>

                            <div class="task-form__actions">
                                <button class="task-form__action-button task-form__action-button_theme_cancel" id="cancel-task-form" type="button">
                                    Отмена
                                </button>
                                <button class="task-form__action-button task-form__action-button_theme_add" type="submit">
                                    Добавить
                                </button>
                            </div>
                        </form>
                    </section>
                </div>
            </div>
        </section>

        <section class="tasks-view">
            <div class="tasks-view__tabs" role="tablist" aria-label="Выбор списка задач">
                <button class="tasks-view__tab tasks-view__tab_state_active" id="tasks-tab-active" type="button" role="tab" data-view="active" aria-controls="active-tasks-panel" aria-selected="true">Активные задачи</button>
                <button class="tasks-view__tab" id="tasks-tab-completed" type="button" role="tab" data-view="completed" aria-controls="completed-tasks-panel" aria-selected="false">Выполненные задачи</button>
            </div>
            <div class="tasks-view__panels">
                <div class="tasks-view__panel tasks-view__panel_state_active" id="active-tasks-panel" role="tabpanel" aria-labelledby="tasks-tab-active" data-view-panel="active">
                    <h1 class="section-title tasks-view__panel-title">Активные задачи</h1>
                    <p class="tasks-view__empty active-tasks__empty" role="status" aria-live="polite" aria-atomic="true">Пока нет активных задач...</p>
                    <div class="tasks-view__list active-tasks__list" id="active-tasks-list"></div>
                </div>
                <div class="tasks-view__panel" id="completed-tasks-panel" role="tabpanel" aria-labelledby="tasks-tab-completed" data-view-panel="completed" hidden>
                    <h1 class="section-title tasks-view__panel-title">Выполненные задачи</h1>
                    <p class="tasks-view__empty completed-tasks__empty" role="status" aria-live="polite" aria-atomic="true">Выполненные задачи отсутствуют...</p>
                    <div class="tasks-view__list completed-tasks__list" id="completed-tasks-list"></div>
                </div>
            </div>
        </section>
    </main>
    <div class="sr-only" id="tasks-live" role="status" aria-live="polite" aria-atomic="true"></div>

    <template id="task-card-template">
        <article class="task-card">
            <div class="task-card__header">
                <h3 class="task-card__title"></h3>
                <button class="task-card__edit-button" type="button" aria-label="Редактировать задачу">
                    <img class="icon" src="./icons/edit-pencil.svg" alt="" aria-hidden="true">
                </button>
            </div>
            <p class="task-card__description" hidden></p>
            <div class="task-card__footer">
                <div class="task-card__footer-content">
                    <div class="task-card__footer-top">
                        <div class="task-card__datetime">
                            <span class="task-card__date"></span>
                            <span class="task-card__time"></span>
                        </div>
                        <span class="task-card__priority"></span>
                    </div>
                    <div class="task-card__footer-bottom">
                        <button class="task-card__delete-button" type="button" aria-label="Удалить задачу">
                            <span class="task-card__delete-text">Удалить</span>
                            <img class="task-card__icon icon" src="./icons/remove.svg" alt="" aria-hidden="true">
                        </button>
                        <button class="task-card__complete-button" type="button" aria-label="Отметить как выполнено">
                            <span class="task-card__complete-text">Я выполнил(а)</span>
                            <img class="task-card__icon icon" src="./icons/check.svg" alt="" aria-hidden="true">
                        </button>
                    </div>
                </div>
            </div>
        </article>
    </template>
</body>
</html>
